<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بنك أسئلة كيمياء</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #f0f8ff;
            margin: 0;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #4a90e2;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .student-info {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        button {
            background-color: #4a90e2;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            margin: 5px;
        }
        button:hover {
            background-color: #357abd;
        }
        .timer {
            background-color: #2c3e50;
            color: white;
            padding: 10px;
            text-align: center;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: bold;
        }
        .question-container {
            display: none;
            margin-bottom: 20px;
        }
        .question {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-right: 4px solid #4a90e2;
        }
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        .option {
            padding: 12px;
            background-color: #f0f0f0;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .option:hover {
            background-color: #e0e0e0;
        }
        .option.selected {
            background-color: #cce5ff;
            border: 2px solid #4a90e2;
        }
        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        .correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .results {
            display: none;
            text-align: center;
            padding: 20px;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        .stat-box {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #4a90e2;
        }
        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background-color: #4a90e2;
            width: 0%;
            transition: width 0.5s;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>بنك أسئلة كيمياء</h1>
            <p>اختبار تفاعلي في مادة الكيمياء - 85 سؤالاً - مدة الاختبار: 60 دقيقة</p>
        </header>
        
        <div class="student-info" id="studentInfo">
            <div class="input-group">
                <label for="studentName">اسم الطالب:</label>
                <input type="text" id="studentName" placeholder="أدخل اسمك هنا">
            </div>
            <div class="input-group">
                <label for="studentClass">الشعبة:</label>
                <select id="studentClass">
                    <option value="">اختر الشعبة</option>
                    <option value="1">الشعبة 1</option>
                    <option value="2">الشعبة 2</option>
                    <option value="3">الشعبة 3</option>
                    <option value="4">الشعبة 4</option>
                    <option value="5">الشعبة 5</option>
                    <option value="6">الشعبة 6</option>
                    <option value="7">الشعبة 7</option>
                </select>
            </div>
            <button id="startBtn">بدء الاختبار</button>
        </div>
        
        <div class="timer" id="timer" style="display: none;">
            الوقت المتبقي: <span id="time">60:00</span>
        </div>
        
        <div class="question-container" id="questionContainer">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
            <div class="feedback" id="feedback"></div>
            <div class="controls">
                <button id="prevBtn" class="hidden">السؤال السابق</button>
                <button id="nextBtn">التالي</button>
                <button id="submitBtn" class="hidden">إنهاء الاختبار</button>
            </div>
        </div>
        
        <div class="results" id="results">
            <h2>نتيجة الاختبار</h2>
            <p id="studentResult"></p>
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-label">عدد الأسئلة</div>
                    <div class="stat-value" id="totalQuestions">85</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">الإجابات الصحيحة</div>
                    <div class="stat-value" id="correctAnswers">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">الإجابات الخاطئة</div>
                    <div class="stat-value" id="wrongAnswers">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">النسبة المئوية</div>
                    <div class="stat-value" id="percentage">0%</div>
                </div>
            </div>
            <button id="restartBtn">إعادة الاختبار</button>
        </div>
    </div>

    <!-- أصوات -->
    <audio id="correctSound" src="https://assets.mixkit.co/active_storage/sfx/201/201-preview.mp3" preload="auto"></audio>
    <audio id="wrongSound" src="https://assets.mixkit.co/active_storage/sfx/008/008-preview.mp3" preload="auto"></audio>

    <script>
        // بيانات الأسئلة (نموذج مبسط)
        const questions = [
            {
                question: "يهتم علم الكيمياء بدراسة:",
                options: ["العادة", "الضوء", "الخطر"],
                correct: 1
            },
            {
                question: "من الأمثلة على المواد الكيميائية التقنية:",
                options: ["ماء البحر", "الهيدروجين", "الخشب"],
                correct: 1
            },
            {
                question: "المادة الكيميائية لها تركيب:",
                options: ["متغير", "ثابت", "غير منتظم"],
                correct: 1
            },
            // سيتم إضافة باقي الأسئلة هنا (85 سؤالاً)
            // ...
        ];

        // متغيرات التطبيق
        let currentQuestion = 0;
        let userAnswers = [];
        let correctCount = 0;
        let wrongCount = 0;
        let timer;
        let timeLeft = 60 * 60; // 60 دقيقة بالثواني

        // عناصر DOM
        const studentInfo = document.getElementById('studentInfo');
        const timerElement = document.getElementById('timer');
        const timeDisplay = document.getElementById('time');
        const questionContainer = document.getElementById('questionContainer');
        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const feedbackElement = document.getElementById('feedback');
        const progressElement = document.getElementById('progress');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const results = document.getElementById('results');
        const studentResult = document.getElementById('studentResult');
        const totalQuestionsElement = document.getElementById('totalQuestions');
        const correctAnswersElement = document.getElementById('correctAnswers');
        const wrongAnswersElement = document.getElementById('wrongAnswers');
        const percentageElement = document.getElementById('percentage');
        const startBtn = document.getElementById('startBtn');
        const restartBtn = document.getElementById('restartBtn');
        const correctSound = document.getElementById('correctSound');
        const wrongSound = document.getElementById('wrongSound');

        // بدء الاختبار
        startBtn.addEventListener('click', startTest);
        restartBtn.addEventListener('click', restartTest);

        function startTest() {
            const studentName = document.getElementById('studentName').value;
            const studentClass = document.getElementById('studentClass').value;
            
            if (!studentName || !studentClass) {
                alert('يرجى إدخال اسم الطالب واختيار الشعبة');
                return;
            }
            
            studentInfo.style.display = 'none';
            timerElement.style.display = 'block';
            questionContainer.style.display = 'block';
            
            startTimer();
            showQuestion();
        }

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    endTest();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timeDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function showQuestion() {
            const question = questions[currentQuestion];
            questionElement.textContent = `${currentQuestion + 1}. ${question.question}`;
            
            optionsElement.innerHTML = '';
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (userAnswers[currentQuestion] === index) {
                    optionElement.classList.add('selected');
                }
                optionElement.textContent = option;
                optionElement.addEventListener('click', () => selectOption(index));
                optionsElement.appendChild(optionElement);
            });
            
            // تحديث شريط التقدم
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            progressElement.style.width = `${progress}%`;
            
            // إدارة عرض الأزرار
            prevBtn.classList.toggle('hidden', currentQuestion === 0);
            nextBtn.classList.toggle('hidden', currentQuestion === questions.length - 1);
            submitBtn.classList.toggle('hidden', currentQuestion !== questions.length - 1);
            
            // إخفاء التغذية الراجعة
            feedbackElement.style.display = 'none';
        }

        function selectOption(index) {
            // إزالة التحديد من جميع الخيارات
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // تحديد الخيار المختار
            document.querySelectorAll('.option')[index].classList.add('selected');
            
            // حفظ الإجابة
            userAnswers[currentQuestion] = index;
            
            // التحقق من الإجابة
            checkAnswer(index);
        }

        function checkAnswer(selectedIndex) {
            const correctIndex = questions[currentQuestion].correct;
            
            if (selectedIndex === correctIndex) {
                // الإجابة صحيحة
                feedbackElement.textContent = "إجابة صحيحة! أحسنت!";
                feedbackElement.className = "feedback correct";
                correctSound.play();
                correctCount++;
            } else {
                // الإجابة خاطئة
                feedbackElement.textContent = `إجابة خاطئة. الإجابة الصحيحة هي: ${questions[currentQuestion].options[correctIndex]}`;
                feedbackElement.className = "feedback incorrect";
                wrongSound.play();
                wrongCount++;
            }
            
            feedbackElement.style.display = 'block';
        }

        // التنقل بين الأسئلة
        nextBtn.addEventListener('click', () => {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
            }
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        });

        submitBtn.addEventListener('click', endTest);

        function endTest() {
            clearInterval(timer);
            questionContainer.style.display = 'none';
            results.style.display = 'block';
            
            const percentage = Math.round((correctCount / questions.length) * 100);
            
            studentResult.textContent = `الطالب: ${document.getElementById('studentName').value} - الشعبة: ${document.getElementById('studentClass').value}`;
            totalQuestionsElement.textContent = questions.length;
            correctAnswersElement.textContent = correctCount;
            wrongAnswersElement.textContent = wrongCount;
            percentageElement.textContent = `${percentage}%`;
        }

        function restartTest() {
            currentQuestion = 0;
            userAnswers = [];
            correctCount = 0;
            wrongCount = 0;
            timeLeft = 60 * 60;
            
            results.style.display = 'none';
            studentInfo.style.display = 'block';
            document.getElementById('studentName').value = '';
            document.getElementById('studentClass').value = '';
        }
    </script>
</body>
</html>
